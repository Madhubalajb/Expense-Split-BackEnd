(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{61:function(e,a,t){e.exports=t.p+"static/media/reactjs.815bfb21.png"},62:function(e,a,t){e.exports=t.p+"static/media/nodejs.dacb853d.png"},63:function(e,a,t){e.exports=t.p+"static/media/mongodb.3bd34a07.png"},66:function(e,a,t){e.exports=t(97)},71:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),l=t.n(c),o=(t(71),t(26)),u=t(23),s=t(31),m=t(9),i=t(99),p=t(103),d=t(100),E=t(57),f=t(106),b=t(101),h=function(e){return r.a.createElement(i.a,{className:"split"},r.a.createElement(p.a,{onSubmit:e.addExpense},r.a.createElement(d.a,null,r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement("h4",null,"1) Name your Expense"),r.a.createElement(p.a.Control,{onChange:e.ExpName,value:e.expenseName||"",placeholder:"Expense Name",required:!0}),r.a.createElement(p.a.Control,{onChange:e.date,value:e.dateValue,type:"date",placeholder:"Date",required:!0}))),r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement("h4",null,"2) Add your Group"),e.members.map(function(a,t){return r.a.createElement(d.a,{key:t},r.a.createElement(p.a.Control,{className:"col-sm-9",value:a.name||"",placeholder:"Person Name",onChange:function(a){return e.Member(a,t)},required:!0}),r.a.createElement(b.a,{className:"col-sm-2 minusBtn",variant:"dark",title:"delete member",onClick:function(){return e.rmMember(t)}},r.a.createElement("b",null,"-")))}),r.a.createElement(b.a,{className:"addBtn",variant:"dark",title:"add member",onClick:function(a){return e.addMember(a)}},r.a.createElement("b",null,"+")))),r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement("h4",null,"3) Enter the Expenses"),r.a.createElement(p.a.Control,{onChange:e.Amount,value:e.amt||"",placeholder:"Amount",required:!0}),r.a.createElement(d.a,null,r.a.createElement("b",null,"By whom:")),r.a.createElement(d.a,null,e.members.map(function(a,t){return r.a.createElement("div",{key:t},r.a.createElement(E.a,null,r.a.createElement(p.a.Check,{type:"radio",value:a.name||"",label:a.name,onChange:e.radio})))})),r.a.createElement(d.a,null,r.a.createElement("b",null,"To whom:")),r.a.createElement(d.a,null,e.members.map(function(a,t){return r.a.createElement("div",{key:t},r.a.createElement(E.a,null,r.a.createElement(p.a.Check,{type:"checkbox",value:a.name||"",label:a.name,checked:a.isChecked,onChange:function(){return e.checkbox(t)}})))}))))),r.a.createElement(b.a,{variant:"dark",title:"Split",className:"split_btn",type:"submit"},"Finally, Split It")))},g=t(102),v=function(e){return null===e.msg?null:e.msg},w=t(7),k=t.n(w),x=t(13),N=t(19),j=t.n(N),y="/api/expenses",O=null,S={setToken:function(e){O="bearer ".concat(e)},getData:function(){var e=Object(x.a)(k.a.mark(function e(){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(y);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),addData:function(){var e=Object(x.a)(k.a.mark(function e(a){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:O}},e.next=3,j.a.post(y,a,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),deleteData:function(){var e=Object(x.a)(k.a.mark(function e(a){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(y,"/").concat(a));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),updateData:function(){var e=Object(x.a)(k.a.mark(function e(a,t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.put("".concat(y,"/").concat(a),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}()},C=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),u=Object(m.a)(l,2),i=u[0],p=u[1],d=Object(n.useState)(""),E=Object(m.a)(d,2),f=E[0],b=E[1],g=Object(n.useState)(""),w=Object(m.a)(g,2),k=w[0],x=w[1],N=Object(n.useState)([{name:null,isChecked:!1}]),j=Object(m.a)(N,2),y=j[0],O=j[1],C=Object(n.useState)(""),_=Object(m.a)(C,2),D=_[0],B=_[1],M=Object(n.useState)(""),I=Object(m.a)(M,2),A=I[0],U=I[1],q=function(e){U(e),setTimeout(function(){U(null)},3e3)};return r.a.createElement("center",null,r.a.createElement(v,{msg:A}),r.a.createElement(h,{ExpName:function(e){return p(e.target.value)},date:function(e){return b(e.target.value)},Amount:function(e){return x(e.target.value)},Member:function(e,a){var t=Object(s.a)(y);t[a].name=e.target.value,O(t)},addExpense:function(e){e.preventDefault();var a={expense_name:i,date:f,members:y,amount:Number(k),by_whom:D};""!==a.expense_name&&""!==a.date&&""!==a.amount&&""!==a.by_whom&&0!==a.members.length&&!0!==isNaN(a.amount)?(console.log(isNaN(a.amount)),S.addData(a).then(function(e){c(t.concat(e)),p(""),b(""),x(""),O([]),B("")}).catch(function(e){q(r.a.createElement("div",{id:"snackbar"},"Validation failed, Please verify expense details."))})):!0===isNaN(a.amount)?q(r.a.createElement("div",{id:"snackbar"},"Please enter a valid Amount")):q(r.a.createElement("div",{id:"snackbar"},"Please enter all the details"))},addMember:function(){var e=Object(s.a)(y);e.push({name:null,isChecked:!1}),O(e)},rmMember:function(e){var a=Object(s.a)(y);a.splice(e,1),O(a)},members:y,expenseName:i,dateValue:f,amt:k,radio:function(e){return B(e.target.value)},checkbox:function(e){var a=Object(s.a)(y);a[e].isChecked=!a[e].isChecked,O(a)}}),r.a.createElement("footer",{className:"bottom"},r.a.createElement(o.b,{to:"/about"},"about")))},_=t(61),D=t.n(_),B=t(62),M=t.n(B),I=t(63),A=t.n(I),U=function(){return r.a.createElement("center",{className:"container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Expense ",r.a.createElement("span",{className:"slash"},"/")," Split"),r.a.createElement("div",{className:"logos"},r.a.createElement("span",{className:"logo react"},r.a.createElement("img",{src:D.a,alt:"Reactjs",title:"React"})),r.a.createElement("span",{className:"plus"},"+"),r.a.createElement("span",{className:"logo node"},r.a.createElement("img",{src:M.a,alt:"Nodejs",title:"Node JS"})),r.a.createElement("span",{className:"plus"},"+"),r.a.createElement("span",{className:"logo mongodb"},r.a.createElement("img",{src:A.a,alt:"Mongodb",title:"mongo DB"}))),r.a.createElement("ol",{className:"stack"},r.a.createElement("li",{className:"tech"},"Express"),r.a.createElement("li",{className:"tech"},"REST API"),r.a.createElement("li",{className:"tech"},"SASS"),r.a.createElement("li",{className:"tech"},"Bootstrap"))),r.a.createElement("p",{className:"footer"},"designed & developed by ",r.a.createElement("a",{href:"https://madhubalajb.github.io/",rel:"noopener noreferrer",target:"_blank"},"madhubala jayakumaran")))},q=t(105),T=t(104),P=function(e){return r.a.createElement(g.a,{id:"loginModal",show:e.show,onHide:e.Close},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement("b",null,"Log In")),r.a.createElement(g.a.Body,null,r.a.createElement(p.a,{onSubmit:e.login,className:"loginInputs"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:e.username,required:!0}),r.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:e.pwd,required:!0}),r.a.createElement("center",null,r.a.createElement(b.a,{type:"submit"},"Log In")))))},L=function(e){return r.a.createElement(g.a,{id:"signupModal",show:e.show,onHide:e.Close},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement("b",null,"Sign Up")),r.a.createElement(g.a.Body,null,r.a.createElement(p.a,{onSubmit:e.signup,className:"signupInputs"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Name",onChange:e.name,required:!0}),r.a.createElement(p.a.Control,{type:"text",placeholder:"Username",onChange:e.username,required:!0}),r.a.createElement(p.a.Control,{type:"password",placeholder:"Password",onChange:e.pwd,required:!0}),r.a.createElement("center",null,r.a.createElement(b.a,{type:"submit"},"Sign Up")))))},H={login:function(){var e=Object(x.a)(k.a.mark(function e(a){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/login",a);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()},J={signup:function(){var e=Object(x.a)(k.a.mark(function e(a){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/users",a);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()},F=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],c=a[1],l=function(){return c(!1)},u=Object(n.useState)(!1),s=Object(m.a)(u,2),i=s[0],p=s[1],d=function(){return p(!1)},E=Object(n.useState)(""),f=Object(m.a)(E,2),b=f[0],h=f[1],g=Object(n.useState)(""),w=Object(m.a)(g,2),N=w[0],j=w[1],y=Object(n.useState)(""),O=Object(m.a)(y,2),C=O[0],_=O[1],D=Object(n.useState)(""),B=Object(m.a)(D,2),M=B[0],I=B[1],A=Object(n.useState)(""),U=Object(m.a)(A,2),q=U[0],F=U[1],R=function(e){F(e),setTimeout(function(){F("")},3e3)},V=function(){j(""),_(""),I(""),l(),d()};Object(n.useEffect)(function(){var e=window.localStorage.getItem("logged-Expense-Split-User");if(e){var a=JSON.parse(e);h(a),S.setToken(a.token)}},[]);var W=function(e){return _(e.target.value)},Y=function(e){return I(e.target.value)},z=function(){var e=Object(x.a)(k.a.mark(function e(a){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,H.login({username:C,password:M}).then(function(e){window.localStorage.setItem("logged-Expense-Split-User",JSON.stringify(e)),S.setToken(e.token),h(e),V(),R(r.a.createElement("div",null,"Hi ",e.username," ",r.a.createElement("i",{className:"material-icons face"},"sentiment_very_satisfied")))}).catch(function(e){R(r.a.createElement("div",{id:"snackbar"},"Invalid Username / Password ",r.a.createElement("i",{className:"material-icons face"},"sentiment_very_dissatisfied"))),V()});case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(k.a.mark(function e(a){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,J.signup({name:N,username:C,password:M}).then(function(e){R(r.a.createElement("div",{id:"snackbar"},"User ",e.name," added ",r.a.createElement("i",{className:"material-icons face"},"sentiment_very_satisfied"))),V()}).catch(function(e){R(r.a.createElement("div",{id:"snackbar"},"Something went wrong ",r.a.createElement("i",{className:"material-icons face"},"sentiment_very_dissatisfied"))),V()});case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return""===b?r.a.createElement("div",null,r.a.createElement(v,{msg:q}),r.a.createElement(T.a.Link,{onClick:function(){return c(!0)}},r.a.createElement("b",null,"log ",r.a.createElement("span",{className:"foo"},"In"))),r.a.createElement(P,{show:t,Close:l,username:W,pwd:Y,login:z}),r.a.createElement(T.a.Link,{onClick:function(){return p(!0)}},r.a.createElement("b",null,"Sign ",r.a.createElement("span",{className:"foo"},"Up"))),r.a.createElement(L,{show:i,Close:d,name:function(e){return j(e.target.value)},username:W,pwd:Y,signup:G})):r.a.createElement("div",null,r.a.createElement(v,{msg:q}),r.a.createElement(T.a.Link,null,r.a.createElement(o.b,{to:"/user"},r.a.createElement("b",null,b.name))),r.a.createElement(T.a.Link,{onClick:function(){R(r.a.createElement("div",{id:"snackbar"},"Bye ",b.username," ",r.a.createElement("i",{className:"material-icons face"},"sentiment_dissatisfied"))),h(""),window.localStorage.removeItem("logged-Expense-Split-User"),S.setToken("")}},r.a.createElement("b",null,"Logout")))},R=function(){return r.a.createElement(q.a,{collapseOnSelect:!0,expand:"sm",className:"fixed-top"},r.a.createElement(q.a.Brand,{href:"/"},r.a.createElement("b",null,"Expense ",r.a.createElement("span",{className:"slash"},"/")," Split")),r.a.createElement(q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(q.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(T.a,{className:"ml-auto"},r.a.createElement(F,null))))},V=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)(function(){S.getData().then(function(e){return c(e)})},[]);return r.a.createElement(i.a,null,r.a.createElement(d.a,{className:"row-cols-4"},t.map(function(e){var a=new Date(e.date),t=e.members.filter(function(e){return!0===e.isChecked}),n=t.length,c=e.amount/n;return n>0?r.a.createElement(E.a,null,r.a.createElement(f.a,{key:e.id},r.a.createElement("h5",null,"Expense Name - ",e.expense_name),r.a.createElement("p",null,"Amount - ",e.amount),r.a.createElement("p",null,"Date - ","".concat(a.getDate(),"/").concat(a.getMonth(),"/").concat(a.getFullYear())),r.a.createElement("p",null,"By - ",e.by_whom),r.a.createElement("p",null,"Members ",t.map(function(e){return"".concat(e.name," ").concat(c," ")})))):r.a.createElement(E.a,null,r.a.createElement(f.a,{key:e.id},r.a.createElement("h5",null,"Expense Name - ",e.expense_name),r.a.createElement("p",null,"Amount - ",e.amount),r.a.createElement("p",null,"Date - ","".concat(a.getDate(),"/").concat(a.getMonth(),"/").concat(a.getFullYear())),r.a.createElement("p",null,"By -",e.by_whom),r.a.createElement("p",null,"Members ",e.by_whom," ",e.amount)))})))},W=function(){return r.a.createElement(o.a,null,r.a.createElement(R,null),r.a.createElement(u.a,{exact:!0,path:"/",component:C}),r.a.createElement(u.a,{exact:!0,path:"/about",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(u.a,{exact:!0,path:"/user",render:function(){return r.a.createElement(V,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(96);l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[66,1,2]]]);
//# sourceMappingURL=main.3145d174.chunk.js.map